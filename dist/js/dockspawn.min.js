!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.dockspawn=e()}}(function(){return function e(t,i,n){function o(a,r){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[a]={exports:{}};t[a][0].call(c.exports,function(e){var i=t[a][1][e];return o(i?i:e)},c,c.exports,e,t,i,n)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,i){t.exports={pkg:e("../package.json"),TabHandle:e("./tab/TabHandle"),TabHost:e("./tab/TabHost"),TabPage:e("./tab/TabPage"),Dialog:e("./dialog/Dialog"),DraggableContainer:e("./decorators/DraggableContainer"),ResizableContainer:e("./decorators/ResizableContainer"),DockLayoutEngine:e("./dock/DockLayoutEngine"),DockManager:e("./dock/DockManager"),DockManagerContext:e("./dock/DockManagerContext"),DockModel:e("./dock/DockModel"),DockNode:e("./dock/DockNode"),DockWheel:e("./dock/DockWheel"),DockWheelItem:e("./dock/DockWheelItem"),DocumentManagerContainer:e("./containers/DocumentManagerContainer"),FillDockContainer:e("./containers/FillDockContainer"),HorizontalDockContainer:e("./containers/HorizontalDockContainer"),PanelContainer:e("./containers/PanelContainer"),SplitterDockContainer:e("./containers/SplitterDockContainer"),VerticalDockContainer:e("./containers/VerticalDockContainer"),SplitterBar:e("./splitter/SplitterBar"),SplitterPanel:e("./splitter/SplitterPanel"),DockGraphDeserializer:e("./serialization/DockGraphDeserializer"),DockGraphSerializer:e("./serialization/DockGraphSerializer"),Point:e("./utils/Point"),EventHandler:e("./utils/EventHandler"),UndockInitiator:e("./utils/UndockInitiator")},t.exports.version=t.exports.pkg.version,Array.prototype.remove||(Array.prototype.remove=function(e){var t=this.indexOf(e);return-1!==t?this.splice(t,1):!1}),Array.prototype.contains||(Array.prototype.contains=function(e){for(var t=this.length;t--;)if(this[t]===e)return!0;return!1}),Array.prototype.orderByIndexes||(Array.prototype.orderByIndexes=function(e){for(var t=[],i=0;i<e.length;i++)t.push(this[e[i]]);return t})},{"../package.json":2,"./containers/DocumentManagerContainer":3,"./containers/FillDockContainer":5,"./containers/HorizontalDockContainer":6,"./containers/PanelContainer":7,"./containers/SplitterDockContainer":8,"./containers/VerticalDockContainer":9,"./decorators/DraggableContainer":10,"./decorators/ResizableContainer":11,"./dialog/Dialog":12,"./dock/DockLayoutEngine":13,"./dock/DockManager":14,"./dock/DockManagerContext":15,"./dock/DockModel":16,"./dock/DockNode":17,"./dock/DockWheel":18,"./dock/DockWheelItem":19,"./serialization/DockGraphDeserializer":20,"./serialization/DockGraphSerializer":21,"./splitter/SplitterBar":22,"./splitter/SplitterPanel":23,"./tab/TabHandle":24,"./tab/TabHost":25,"./tab/TabPage":26,"./utils/EventHandler":27,"./utils/Point":28,"./utils/UndockInitiator":30}],2:[function(e,t,i){t.exports={name:"dock-spawn",version:"1.0.0",description:"Panel docking library similar to Visual Studio docking.",author:"Chad Engler <chad@pantherdev.com>",homepage:"https://github.com/englercj/dock-spawn",main:"./src/index",scripts:{build:"gulp build"},repository:{type:"git",url:"https://github.com/englercj/dock-spawn.git"},bugs:{url:"https://github.com/englercj/dock-spawn/issues"},dependencies:{},devDependencies:{browserify:"^6.0.3",gulp:"^3.8.8","gulp-jshint":"^2.0.0","gulp-rename":"^1.2.0","gulp-sourcemaps":"^1.3.0","gulp-uglify":"^1.1.0","gulp-util":"^3.0.7","gulp-webserver":"^0.9.0",jshint:"^2.8.0","jshint-summary":"^0.4.0","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.0.0",watchify:"^2.0.0"}}},{}],3:[function(e,t,i){function n(e){o.call(this,e,a.DIRECTION_TOP),this.minimumAllowedChildNodes=0,this.element.classList.add("document-manager"),this.tabHost.createTabPage=this._createDocumentTabPage,this.tabHost.displayCloseButton=!0}var o=e("./FillDockContainer"),s=e("./DocumentTabPage"),a=e("../tab/TabHost");n.prototype=Object.create(o.prototype),n.prototype.constructor=n,t.exports=n,n.prototype._createDocumentTabPage=function(e,t){return new s(e,t)},n.prototype.saveState=function(e){o.prototype.saveState.call(this,e),e.documentManager=!0},n.prototype.selectedTab=function(){return this.tabHost.activeTab}},{"../tab/TabHost":25,"./DocumentTabPage":4,"./FillDockContainer":5}],4:[function(e,t,i){function n(e,t){o.call(this,e,t),"panel"===this.container.containerType&&(this.panel=t,this.containerElement=this.panel.elementContent,s.removeNode(this.containerElement))}var o=e("../tab/TabPage"),s=e("../utils/utils");n.prototype=Object.create(o.prototype),n.prototype.constructor=n,t.exports=n,n.prototype.destroy=function(){o.prototype.destroy.call(this),s.removeNode(this.containerElement),this.panel.elementContentHost.appendChild(this.containerElement)}},{"../tab/TabPage":26,"../utils/utils":31}],5:[function(e,t,i){function n(e,t){if(0!==arguments.length){void 0===t&&(t=o.DIRECTION_BOTTOM),this.dockManager=e,this.tabOrientation=t,this.name=s.getNextId("fill_"),this.element=document.createElement("div"),this.containerElement=this.element,this.containerType="fill",this.minimumAllowedChildNodes=2,this.element.classList.add("dock-container"),this.element.classList.add("dock-container-fill"),this.tabHost=new o(this.tabOrientation);var i=this;this.tabHostListener={onChange:function(e){i.dockManager._requestTabReorder(i,e)}},this.tabHost.addListener(this.tabHostListener),this.element.appendChild(this.tabHost.hostElement)}}var o=e("../tab/TabHost"),s=e("../utils/utils");t.exports=n,n.prototype.setActiveChild=function(e){this.tabHost.setActiveTab(e)},n.prototype.resize=function(e,t){this.element.style.width=e+"px",this.element.style.height=t+"px",this.tabHost.resize(e,t)},n.prototype.performLayout=function(e){this.tabHost.performLayout(e)},n.prototype.destroy=function(){s.removeNode(this.element)&&delete this.element},n.prototype.saveState=function(e){e.width=this.width,e.height=this.height},n.prototype.loadState=function(e){this.state={width:e.width,height:e.height}},Object.defineProperty(n.prototype,"width",{get:function(){return this.element.clientWidth},set:function(e){this.element.style.width=e+"px"}}),Object.defineProperty(n.prototype,"height",{get:function(){return this.element.clientHeight},set:function(e){this.element.style.height=e+"px"}})},{"../tab/TabHost":25,"../utils/utils":31}],6:[function(e,t,i){function n(e,t){this.stackedVertical=!1,o.call(this,s.getNextId("horizontal_splitter_"),e,t),this.containerType="horizontal"}var o=e("./SplitterDockContainer"),s=e("../utils/utils");n.prototype=Object.create(o.prototype),n.prototype.constructor=n,t.exports=n},{"../utils/utils":31,"./SplitterDockContainer":8}],7:[function(e,t,i){function n(e,t,i){i||(i="Panel"),this.elementContent=e,this.dockManager=t,this.title=i,this.containerType="panel",this.iconName="fa fa-arrow-circle-right",this.iconTemplate=null,this.minimumAllowedChildNodes=0,this._floatingDialog=void 0,this.isDialog=!1,this._canUndock=t._undockEnabled,this.eventListeners=[],this._initialize()}var o=e("../utils/EventHandler"),s=e("../utils/UndockInitiator"),a=e("../utils/utils");t.exports=n,n.prototype.canUndock=function(e){this._canUndock=e,this.undockInitiator.enabled=e,this.eventListeners.forEach(function(t){t.onDockEnabled&&t.onDockEnabled({self:this,state:e})})},n.prototype.addListener=function(e){this.eventListeners.push(e)},n.prototype.removeListener=function(e){this.eventListeners.splice(this.eventListeners.indexOf(e),1)},Object.defineProperty(n.prototype,"floatingDialog",{get:function(){return this._floatingDialog},set:function(e){this._floatingDialog=e;var t=void 0===this._floatingDialog;this.undockInitiator.enabled=t}}),n.loadFromState=function(e,t){var i=e.element,o=document.getElementById(i);if(null===o)return null;var s=new n(o,t);return s.loadState(e),s},n.prototype.saveState=function(e){e.element=this.elementContent.id,e.width=this.width,e.height=this.height},n.prototype.loadState=function(e){this.width=e.width,this.height=e.height,this.state={width:e.width,height:e.height}},n.prototype.setActiveChild=function(){},Object.defineProperty(n.prototype,"containerElement",{get:function(){return this.elementPanel}}),n.prototype._initialize=function(){this.name=a.getNextId("panel_"),this.elementPanel=document.createElement("div"),this.elementTitle=document.createElement("div"),this.elementTitleText=document.createElement("div"),this.elementContentHost=document.createElement("div"),this.elementButtonClose=document.createElement("div"),this.elementPanel.appendChild(this.elementTitle),this.elementTitle.appendChild(this.elementTitleText),this.elementTitle.appendChild(this.elementButtonClose),this.elementButtonClose.innerHTML='<i class="fa fa-times"></i>',this.elementButtonClose.classList.add("panel-titlebar-button-close"),this.elementPanel.appendChild(this.elementContentHost),this.elementPanel.classList.add("panel-base"),this.elementTitle.classList.add("panel-titlebar"),this.elementTitle.classList.add("disable-selection"),this.elementTitleText.classList.add("panel-titlebar-text"),this.elementContentHost.classList.add("panel-content");var e=this.elementContent.clientWidth,t=this.elementContent.clientHeight,i=this.elementTitle.clientHeight;this._setPanelDimensions(e,t+i),document.body.appendChild(this.elementPanel),this.closeButtonClickedHandler=new o(this.elementButtonClose,"click",this.onCloseButtonClicked.bind(this)),a.removeNode(this.elementContent),this.elementContentHost.appendChild(this.elementContent);var n=this.elementContent.dataset.panelCaption,r=this.elementContent.dataset.panelIcon;n&&(this.title=n),r&&(this.iconName=r),this._updateTitle(),this.undockInitiator=new s(this.elementTitle,this.performUndockToDialog.bind(this)),delete this.floatingDialog},n.prototype.hideCloseButton=function(e){this.elementButtonClose.style.display=e?"none":"block",this.eventListeners.forEach(function(t){t.onHideCloseButton&&t.onHideCloseButton({self:this,state:e})})},n.prototype.destroy=function(){a.removeNode(this.elementPanel),this.closeButtonClickedHandler&&(this.closeButtonClickedHandler.cancel(),delete this.closeButtonClickedHandler)},n.prototype.performUndockToDialog=function(e,t){return this.isDialog=!0,this.undockInitiator.enabled=!1,this.dockManager.requestUndockToDialog(this,e,t)},n.prototype.performUndock=function(){this.undockInitiator.enabled=!1,this.dockManager.requestUndock(this)},n.prototype.prepareForDocking=function(){this.isDialog=!1,this.undockInitiator.enabled=this.canUndock},Object.defineProperty(n.prototype,"width",{get:function(){return this._cachedWidth},set:function(e){e!==this._cachedWidth&&(this._cachedWidth=e,this.elementPanel.style.width=e+"px")}}),Object.defineProperty(n.prototype,"height",{get:function(){return this._cachedHeight},set:function(e){e!==this._cachedHeight&&(this._cachedHeight=e,this.elementPanel.style.height=e+"px")}}),n.prototype.resize=function(e,t){this._setPanelDimensions(e,t),this._cachedWidth=e,this._cachedHeight=t;try{void 0!=this.elementContent&&"function"==typeof this.elementContent.resizeHandler&&this.elementContent.resizeHandler(e,t-this.elementTitle.clientHeight)}catch(i){console.log("error calling resizeHandler:",i," elt:",this.elementContent)}},n.prototype._setPanelDimensions=function(e,t){this.elementTitle.style.width=e+"px",this.elementContentHost.style.width=e+"px",this.elementContent.style.width=e+"px",this.elementPanel.style.width=e+"px";var i=this.elementTitle.clientHeight,n=t-i;this.elementContentHost.style.height=n+"px",this.elementContent.style.height=n+"px",this.elementPanel.style.height=t+"px"},n.prototype.setTitle=function(e){this.title=e,this._updateTitle(),this.onTitleChanged&&this.onTitleChanged(this,e)},n.prototype.setTitleIcon=function(e){this.iconName=e,this._updateTitle(),this.onTitleChanged&&this.onTitleChanged(this,this.title)},n.prototype.setTitleIconTemplate=function(e){this.iconTemplate=e,this._updateTitle(),this.onTitleChanged&&this.onTitleChanged(this,this.title)},n.prototype.setCloseIconTemplate=function(e){this.elementButtonClose.innerHTML=e()},n.prototype._updateTitle=function(){return null!==this.iconTemplate?void(this.elementTitleText.innerHTML=this.iconTemplate(this.iconName)+this.title):void(this.elementTitleText.innerHTML='<i class="'+this.iconName+'"></i> '+this.title)},n.prototype.getRawTitle=function(){return this.elementTitleText.innerHTML},n.prototype.performLayout=function(){},n.prototype.onCloseButtonClicked=function(){this.close()},n.prototype.close=function(){this.isDialog?(this.floatingDialog.hide(),this.floatingDialog.setPosition(this.dockManager.defaultDialogPosition.x,this.dockManager.defaultDialogPosition.y)):(this.performUndockToDialog(),this.floatingDialog.hide(),this.floatingDialog.setPosition(this.dockManager.defaultDialogPosition.x,this.dockManager.defaultDialogPosition.y)),this.dockManager.notifyOnClosePanel(this)}},{"../utils/EventHandler":27,"../utils/UndockInitiator":30,"../utils/utils":31}],8:[function(e,t,i){function n(e,t,i){0!==arguments.length&&(this.name=e,this.dockManager=t,this.splitterPanel=new o(i,this.stackedVertical),this.containerElement=this.splitterPanel.panelElement,this.minimumAllowedChildNodes=2)}var o=e("../splitter/SplitterPanel");t.exports=n,n.prototype.resize=function(e,t){this.splitterPanel.resize(e,t),this._cachedWidth=e,this._cachedHeight=t},n.prototype.performLayout=function(e){this.splitterPanel.performLayout(e)},n.prototype.setActiveChild=function(){},n.prototype.destroy=function(){this.splitterPanel.destroy()},n.prototype.setContainerRatio=function(e,t){this.splitterPanel.setContainerRatio(e,t),this.resize(this.width,this.height)},n.prototype.saveState=function(e){e.width=this.width,e.height=this.height},n.prototype.loadState=function(e){this.state={width:e.width,height:e.height}},Object.defineProperty(n.prototype,"width",{get:function(){return void 0===this._cachedWidth&&(this._cachedWidth=this.splitterPanel.panelElement.clientWidth),this._cachedWidth}}),Object.defineProperty(n.prototype,"height",{get:function(){return void 0===this._cachedHeight&&(this._cachedHeight=this.splitterPanel.panelElement.clientHeight),this._cachedHeight}})},{"../splitter/SplitterPanel":23}],9:[function(e,t,i){function n(e,t){this.stackedVertical=!0,o.call(this,s.getNextId("vertical_splitter_"),e,t),this.containerType="vertical"}var o=e("./SplitterDockContainer"),s=e("../utils/utils");n.prototype=Object.create(o.prototype),n.prototype.constructor=n,t.exports=n},{"../utils/utils":31,"./SplitterDockContainer":8}],10:[function(e,t,i){function n(e,t,i,n){this.dialog=e,this.delegate=t,this.containerElement=t.containerElement,this.dockManager=t.dockManager,this.topLevelElement=i,this.containerType=t.containerType,this.mouseDownHandler=new o(n,"mousedown",this.onMouseDown.bind(this)),this.topLevelElement.style.marginLeft=i.offsetLeft+"px",this.topLevelElement.style.marginTop=i.offsetTop+"px",this.minimumAllowedChildNodes=t.minimumAllowedChildNodes}var o=e("../utils/EventHandler"),s=e("../utils/Point"),a=e("../utils/utils");t.exports=n,n.prototype.destroy=function(){this.removeDecorator(),this.delegate.destroy()},n.prototype.saveState=function(e){this.delegate.saveState(e)},n.prototype.loadState=function(e){this.delegate.loadState(e)},n.prototype.setActiveChild=function(){},Object.defineProperty(n.prototype,"width",{get:function(){return this.delegate.width}}),Object.defineProperty(n.prototype,"height",{get:function(){return this.delegate.height}}),n.prototype.name=function(e){return e&&(this.delegate.name=e),this.delegate.name},n.prototype.resize=function(e,t){this.delegate.resize(e,t)},n.prototype.performLayout=function(e){this.delegate.performLayout(e)},n.prototype.removeDecorator=function(){this.mouseDownHandler&&(this.mouseDownHandler.cancel(),delete this.mouseDownHandler)},n.prototype.onMouseDown=function(e){this._startDragging(e),this.previousMousePosition={x:e.pageX,y:e.pageY},this.mouseMoveHandler&&(this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler),this.mouseUpHandler&&(this.mouseUpHandler.cancel(),delete this.mouseUpHandler),this.mouseMoveHandler=new o(window,"mousemove",this.onMouseMove.bind(this)),this.mouseUpHandler=new o(window,"mouseup",this.onMouseUp.bind(this))},n.prototype.onMouseUp=function(e){this._stopDragging(e),this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler,this.mouseUpHandler.cancel(),delete this.mouseUpHandler},n.prototype._startDragging=function(e){this.dialog.eventListener&&this.dialog.eventListener.onDialogDragStarted(this.dialog,e),document.body.classList.add("disable-selection")},n.prototype._stopDragging=function(e){this.dialog.eventListener&&this.dialog.eventListener.onDialogDragEnded(this.dialog,e),document.body.classList.remove("disable-selection")},n.prototype.onMouseMove=function(e){var t=new s(e.pageX,e.pageY),i=this.dockManager.checkXBounds(this.topLevelElement,t,this.previousMousePosition),n=this.dockManager.checkYBounds(this.topLevelElement,t,this.previousMousePosition);this._performDrag(i,n),this.previousMousePosition=t},n.prototype._performDrag=function(e,t){var i=e+a.getPixels(this.topLevelElement.style.marginLeft),n=t+a.getPixels(this.topLevelElement.style.marginTop);this.topLevelElement.style.marginLeft=i+"px",this.topLevelElement.style.marginTop=n+"px"}},{"../utils/EventHandler":27,"../utils/Point":28,"../utils/utils":31}],11:[function(e,t,i){function n(e,t,i){this.dialog=e,this.delegate=t,this.containerElement=t.containerElement,this.dockManager=t.dockManager,this.topLevelElement=i,this.containerType=t.containerType,this.topLevelElement.style.marginLeft=this.topLevelElement.offsetLeft+"px",this.topLevelElement.style.marginTop=this.topLevelElement.offsetTop+"px",this.minimumAllowedChildNodes=t.minimumAllowedChildNodes,this._buildResizeHandles(),this.readyToProcessNextResize=!0}function o(){this.element=void 0,this.handleSize=6,this.cornerSize=12,this.east=!1,this.west=!1,this.north=!1,this.south=!1,this.corner=!1}var s=e("../utils/EventHandler"),a=e("../utils/Point"),r=e("../utils/utils");t.exports=n,n.prototype.setActiveChild=function(){},n.prototype._buildResizeHandles=function(){this.resizeHandles=[],this._buildResizeHandle(!1,!0,!0,!1),this._buildResizeHandle(!0,!1,!1,!0),this._buildResizeHandle(!1,!0,!1,!0),this._buildResizeHandle(!0,!1,!1,!1),this._buildResizeHandle(!1,!0,!1,!1),this._buildResizeHandle(!1,!1,!0,!1),this._buildResizeHandle(!1,!1,!1,!0)},n.prototype._buildResizeHandle=function(e,t,i,n){var a=new o;a.east=e,a.west=t,a.north=i,a.south=n,a.element=document.createElement("div"),this.topLevelElement.appendChild(a.element);var r="",l="";i&&(r="n"),n&&(r="s"),e&&(l="e"),t&&(l="w");var h="resize-handle-"+r+l;r.length>0&&l.length>0&&(a.corner=!0),a.element.classList.add(a.corner?"resize-handle-corner":"resize-handle"),a.element.classList.add(h),this.resizeHandles.push(a);var c=this;a.mouseDownHandler=new s(a.element,"mousedown",function(e){c.onMouseDown(a,e)})},n.prototype.saveState=function(e){this.delegate.saveState(e)},n.prototype.loadState=function(e){this.delegate.loadState(e)},Object.defineProperty(n.prototype,"width",{get:function(){return this.delegate.width}}),Object.defineProperty(n.prototype,"height",{get:function(){return this.delegate.height}}),n.prototype.name=function(e){return e&&(this.delegate.name=e),this.delegate.name},n.prototype.resize=function(e,t){this.delegate.resize(e,t),this._adjustResizeHandles(e,t)},n.prototype._adjustResizeHandles=function(e,t){var i=this;this.resizeHandles.forEach(function(n){n.adjustSize(i.topLevelElement,e,t)})},n.prototype.performLayout=function(e){this.delegate.performLayout(e)},n.prototype.destroy=function(){this.removeDecorator(),this.delegate.destroy()},n.prototype.removeDecorator=function(){},n.prototype.onMouseMoved=function(e,t){if(this.readyToProcessNextResize){this.readyToProcessNextResize=!1,this.dockManager.suspendLayout();var i=new a(t.pageX,t.pageY),n=this.dockManager.checkXBounds(this.topLevelElement,i,this.previousMousePosition),o=this.dockManager.checkYBounds(this.topLevelElement,i,this.previousMousePosition);this._performDrag(e,n,o),this.previousMousePosition=i,this.readyToProcessNextResize=!0,this.dialog.panel&&this.dockManager.resumeLayout(this.dialog.panel)}},n.prototype.onMouseDown=function(e,t){this.previousMousePosition=new a(t.pageX,t.pageY),e.mouseMoveHandler&&(e.mouseMoveHandler.cancel(),delete e.mouseMoveHandler),e.mouseUpHandler&&(e.mouseUpHandler.cancel(),delete e.mouseUpHandler);var i=this;e.mouseMoveHandler=new s(window,"mousemove",function(t){i.onMouseMoved(e,t)}),e.mouseUpHandler=new s(window,"mouseup",function(t){i.onMouseUp(e,t)}),document.body.classList.add("disable-selection")},n.prototype.onMouseUp=function(e){e.mouseMoveHandler.cancel(),e.mouseUpHandler.cancel(),delete e.mouseMoveHandler,delete e.mouseUpHandler,document.body.classList.remove("disable-selection")},n.prototype._performDrag=function(e,t,i){var n={};n.left=r.getPixels(this.topLevelElement.style.marginLeft),n.top=r.getPixels(this.topLevelElement.style.marginTop),n.width=this.topLevelElement.clientWidth,n.height=this.topLevelElement.clientHeight,e.east&&this._resizeEast(t,n),e.west&&this._resizeWest(t,n),e.north&&this._resizeNorth(i,n),e.south&&this._resizeSouth(i,n)},n.prototype._resizeWest=function(e,t){this._resizeContainer(e,0,-e,0,t)},n.prototype._resizeEast=function(e,t){this._resizeContainer(0,0,e,0,t)},n.prototype._resizeNorth=function(e,t){this._resizeContainer(0,e,0,-e,t)},n.prototype._resizeSouth=function(e,t){this._resizeContainer(0,0,0,e,t)},n.prototype._resizeContainer=function(e,t,i,n,o){o.left+=e,o.top+=t,o.width+=i,o.height+=n;var s=50,a=50;o.width=Math.max(o.width,s),o.height=Math.max(o.height,a),this.topLevelElement.style.marginLeft=o.left+"px",this.topLevelElement.style.marginTop=o.top+"px",this.resize(o.width,o.height)},o.prototype.adjustSize=function(e,t,i){this.corner?(this.west&&(this.element.style.left="0px"),this.east&&(this.element.style.left=t-this.cornerSize+"px"),this.north&&(this.element.style.top="0px"),this.south&&(this.element.style.top=i-this.cornerSize+"px")):(this.west&&(this.element.style.left="0px",this.element.style.top=this.cornerSize+"px"),this.east&&(this.element.style.left=t-this.handleSize+"px",this.element.style.top=this.cornerSize+"px"),this.north&&(this.element.style.left=this.cornerSize+"px",this.element.style.top="0px"),this.south&&(this.element.style.left=this.cornerSize+"px",this.element.style.top=i-this.handleSize+"px"),this.west||this.east?this.element.style.height=i-2*this.cornerSize+"px":this.element.style.width=t-2*this.cornerSize+"px")}},{"../utils/EventHandler":27,"../utils/Point":28,"../utils/utils":31}],12:[function(e,t,i){function n(e,t){this.panel=e,this.zIndexCounter=100,this.dockManager=t,this.eventListener=t,this._initialize(),this.dockManager.context.model.dialogs.push(this),this.position=t.defaultDialogPosition,this.dockManager.notifyOnCreateDialog(this)}var o=e("../containers/PanelContainer"),s=e("../decorators/DraggableContainer"),a=e("../decorators/ResizableContainer"),r=e("../utils/EventHandler"),l=e("../utils/utils");t.exports=n,n.prototype.saveState=function(e,t){this.position={x:e,y:t},this.dockManager.notifyOnChangeDialogPosition(this,e,t)},n.fromElement=function(e,t){return new n(new o(document.getElementById(e),t),t)},n.prototype._initialize=function(){this.panel.floatingDialog=this,this.elementDialog=document.createElement("div"),this.elementDialog.appendChild(this.panel.elementPanel),this.draggable=new s(this,this.panel,this.elementDialog,this.panel.elementTitle),this.resizable=new a(this,this.draggable,this.draggable.topLevelElement),document.body.appendChild(this.elementDialog),this.elementDialog.classList.add("dialog-floating"),this.elementDialog.classList.add("rounded-corner-top"),this.panel.elementTitle.classList.add("rounded-corner-top"),this.mouseDownHandler=new r(this.elementDialog,"mousedown",this.onMouseDown.bind(this)),this.resize(this.panel.elementPanel.clientWidth,this.panel.elementPanel.clientHeight),this.isHidden=!1,this.bringToFront()},n.prototype.setPosition=function(e,t){this.position={x:e,y:t},this.elementDialog.style.left=e+"px",this.elementDialog.style.top=t+"px",this.dockManager.notifyOnChangeDialogPosition(this,e,t)},n.prototype.getPosition=function(){return{left:this.position?this.position.x:0,top:this.position?this.position.y:0}},n.prototype.onMouseDown=function(){this.bringToFront()},n.prototype.destroy=function(){this.mouseDownHandler&&(this.mouseDownHandler.cancel(),delete this.mouseDownHandler),this.elementDialog.classList.remove("rounded-corner-top"),this.panel.elementTitle.classList.remove("rounded-corner-top"),l.removeNode(this.elementDialog),this.draggable.removeDecorator(),l.removeNode(this.panel.elementPanel),this.dockManager.context.model.dialogs.remove(this),delete this.panel.floatingDialog},n.prototype.resize=function(e,t){this.resizable.resize(e,t)},n.prototype.setTitle=function(e){this.panel.setTitle(e)},n.prototype.setTitleIcon=function(e){this.panel.setTitleIcon(e)},n.prototype.bringToFront=function(){this.elementDialog.style.zIndex=this.zIndexCounter++},n.prototype.hide=function(){this.elementDialog.style.zIndex=0,this.elementDialog.style.display="none",this.isHidden||(this.isHidden=!0,this.dockManager.notifyOnHideDialog(this))},n.prototype.show=function(){this.elementDialog.style.zIndex=100,this.elementDialog.style.display="block",this.isHidden&&(this.isHidden=!1,this.dockManager.notifyOnShowDialog(this))}},{"../containers/PanelContainer":7,"../decorators/DraggableContainer":10,"../decorators/ResizableContainer":11,"../utils/EventHandler":27,"../utils/utils":31}],13:[function(e,t,i){function n(e){this.dockManager=e}var o=e("./DockNode"),s=e("../containers/HorizontalDockContainer"),a=e("../containers/VerticalDockContainer"),r=e("../containers/FillDockContainer"),l=e("../utils/Rectangle"),h=e("../utils/utils");t.exports=n,n.prototype.dockLeft=function(e,t){this._performDock(e,t,"horizontal",!0)},n.prototype.dockRight=function(e,t){this._performDock(e,t,"horizontal",!1)},n.prototype.dockUp=function(e,t){this._performDock(e,t,"vertical",!0)},n.prototype.dockDown=function(e,t){this._performDock(e,t,"vertical",!1)},n.prototype.dockFill=function(e,t){this._performDock(e,t,"fill",!1)},n.prototype.undock=function(e){var t=e.parent;if(!t)throw new Error("Cannot undock.  panel is not a leaf node");var i=t.children.indexOf(e);if(e.detachFromParent(),t.children.length<t.container.minimumAllowedChildNodes)for(var n=t.parent,o=0;o<t.children.length;o++){var s=t.children[o];if(n){n.addChildAfter(t,s),t.detachFromParent();var a=t.container.containerElement.clientWidth,r=t.container.containerElement.clientHeight;t.container.destroy(),s.container.resize(a,r),n.performLayout()}else t.detachFromParent(),t.container.destroy(),this.dockManager.setRootNode(s)}else if(t.performLayout(),t.children.length>0){var l=t.children[Math.max(0,i-1)];t.container.setActiveChild(l.container)}this.dockManager.invalidate(),this.dockManager.notifyOnUnDock(e)},n.prototype.reorderTabs=function(e,t,i,n){var o=e.children.length,s="left"===i?n:n+1;if(!("right"==i&&s>=e.children.length||"left"==i&&0==s)){var a=Array.apply(null,{length:o}).map(Number.call,Number),r=a.splice(s,1)[0];a.splice("left"===i?n-1:n,0,r),e.children=e.children.orderByIndexes(a),e.container.tabHost.performTabsLayout(a),this.dockManager.notifyOnTabsReorder(e)}},n.prototype._performDock=function(e,t,i,n){if(e.parent&&"fill"===e.parent.container.containerType&&(e=e.parent),"fill"===i&&"fill"===e.container.containerType)return e.addChild(t),e.performLayout(),e.container.setActiveChild(t.container),this.dockManager.invalidate(),void this.dockManager.notifyOnDock(t);var s,a,r,l=this.dockManager.context.model;if(e===l.rootNode)return s=this._createDockContainer(i,t,e),a=new o(s),n?(a.addChild(t),a.addChild(e)):(a.addChild(e),a.addChild(t)),this.dockManager.setRootNode(a),this.dockManager.rebuildLayout(this.dockManager.context.model.rootNode),a.container.setActiveChild(t.container),this.dockManager.invalidate(),void this.dockManager.notifyOnDock(t);if(e.parent.container.containerType!==i){r=e.parent;var c=e.container.containerElement.clientWidth,d=e.container.containerElement.clientHeight,p=r.container.containerElement.clientWidth,u=r.container.containerElement.clientHeight;s=this._createDockContainer(i,t,e),a=new o(s),r.addChildAfter(e,a),e.detachFromParent(),h.removeNode(e.container.containerElement),n?(a.addChild(t),a.addChild(e)):(a.addChild(e),a.addChild(t)),r.performLayout(),a.performLayout(),a.container.setActiveChild(t.container),a.container.resize(c,d),r.container.resize(p,u)}else r=e.parent,n?r.addChildBefore(e,t):r.addChildAfter(e,t),r.performLayout(),r.container.setActiveChild(t.container);var m=t.container.containerElement.clientWidth,f=t.container.containerElement.clientHeight;t.container.resize(m,f),this.dockManager.invalidate(),this.dockManager.notifyOnDock(t)},n.prototype._forceResizeCompositeContainer=function(e){var t=e.containerElement.clientWidth,i=e.containerElement.clientHeight;e.resize(t,i)},n.prototype._createDockContainer=function(e,t,i){if("horizontal"===e)return new s(this.dockManager,[t.container,i.container]);if("vertical"===e)return new a(this.dockManager,[t.container,i.container]);if("fill"===e)return new r(this.dockManager);throw new Error("Failed to create dock container of type: "+e)},n.prototype.getDockBounds=function(e,t,i,n){var o,s,a,r;if("fill"===i){var h=e.container.containerElement;return r=new l,r.x=h.offsetLeft,r.y=h.offsetTop,r.width=h.clientWidth,r.height=h.clientHeight,r}e.parent&&"fill"===e.parent.container.containerType&&(e=e.parent);var c=!1;e.parent&&e.parent.container.containerType===i?(o=e.parent,s=o.children.length,a=o.children.indexOf(e)+(n?0:1)):(o=e,s=1,a=n?0:1,c=!0);var d=5,p=0,u=0;if("vertical"===i||"horizontal"===i){var m=this._getVaringDimension(o.container,i)-(s-1)*d,f=this._getVaringDimension(t,i),g=m/(m+f);if(p=f*g,c)u=n?0:m*g;else{for(var v=0;a>v;v++)u+=this._getVaringDimension(o.children[v].container,i);u*=g}}return r=new l,"vertical"===i?(r.x=o.container.containerElement.offsetLeft,r.y=o.container.containerElement.offsetTop+u,r.width=o.container.width,r.height=p):"horizontal"===i&&(r.x=o.container.containerElement.offsetLeft+u,r.y=o.container.containerElement.offsetTop,r.width=p,r.height=o.container.height),r},n.prototype._getVaringDimension=function(e,t){return"vertical"===t?e.height:"horizontal"===t?e.width:0}},{"../containers/FillDockContainer":5,"../containers/HorizontalDockContainer":6,"../containers/VerticalDockContainer":9,"../utils/Rectangle":29,"../utils/utils":31,"./DockNode":17}],14:[function(e,t,i){function n(e){if(void 0===e)throw new Error("Invalid Dock Manager element provided");this.element=e,this.context=this.dockWheel=this.layoutEngine=this.mouseMoveHandler=void 0,this.layoutEventListeners=[],this.defaultDialogPosition=new p(0,0)}var o=e("./DockManagerContext"),s=e("./DockNode"),a=e("./DockWheel"),r=e("./DockLayoutEngine"),l=e("../dialog/Dialog"),h=e("../serialization/DockGraphSerializer"),c=e("../serialization/DockGraphDeserializer"),d=e("../utils/EventHandler"),p=e("../utils/Point"),u=e("../utils/utils");t.exports=n,n.prototype.initialize=function(){this.context=new o(this);var e=new s(this.context.documentManagerView);this.context.model.rootNode=e,this.context.model.documentManagerNode=e,this.context.model.dialogs=[],this.setRootNode(this.context.model.rootNode),this.resize(this.element.clientWidth,this.element.clientHeight),this.dockWheel=new a(this),this.layoutEngine=new r(this),this._undockEnabled=!0,this.rebuildLayout(this.context.model.rootNode)},n.prototype.checkXBounds=function(e,t,i){var n=Math.floor(t.x-i.x),o=t.x+n<0||e.offsetLeft+e.offsetWidth+n-40<0,s=t.x+n>this.element.offsetWidth||e.offsetLeft+n+40>this.element.offsetWidth;
return(o||s)&&(i.x=t.x,n=0),n},n.prototype.checkYBounds=function(e,t,i){var n=Math.floor(t.y-i.y),o=e.offsetTop+n<this.element.offsetTop,s=t.y+n>this.element.offsetHeight||e.offsetTop+n>this.element.offsetHeight+this.element.offsetTop-20;return(o||s)&&(i.y=t.y,n=0),n},n.prototype.rebuildLayout=function(e){var t=this;e.children.forEach(function(e){t.rebuildLayout(e)}),e.performLayout()},n.prototype.invalidate=function(){this.resize(this.element.clientWidth,this.element.clientHeight)},n.prototype.resize=function(e,t){this.element.style.width=e+"px",this.element.style.height=t+"px",this.context.model.rootNode.container.resize(e,t)},n.prototype.setModel=function(e){u.removeNode(this.context.documentManagerView.containerElement),this.context.model=e,this.setRootNode(e.rootNode),this.rebuildLayout(e.rootNode),this.loadResize(e.rootNode)},n.prototype.loadResize=function(e){var t=this;e.children.reverse().forEach(function(i){t.loadResize(i),e.container.setActiveChild(i.container)}),e.children.reverse(),e.container.resize(e.container.state.width,e.container.state.height)},n.prototype.setRootNode=function(e){e.detachFromParent(),this.context.model.rootNode=e,this.element.appendChild(e.container.containerElement)},n.prototype.onDialogDragStarted=function(e,t){this.dockWheel.activeNode=this._findNodeOnPoint(t.pageX,t.pageY),this.dockWheel.activeDialog=e,this.dockWheel.showWheel(),this.mouseMoveHandler&&(this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler),this.mouseMoveHandler=new d(window,"mousemove",this.onMouseMoved.bind(this))},n.prototype.onDialogDragEnded=function(e){this.mouseMoveHandler&&(this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler),this.dockWheel.onDialogDropped(e),this.dockWheel.hideWheel(),delete this.dockWheel.activeDialog,e.saveState(e.elementDialog.offsetLeft,e.elementDialog.offsetTop)},n.prototype.onMouseMoved=function(e){this.dockWheel.activeNode=this._findNodeOnPoint(e.clientX,e.clientY)},n.prototype._findNodeOnPoint=function(e,t){var i=[];i.push(this.context.model.rootNode);for(var n;i.length>0;){var o=i.pop();u.isPointInsideNode(e,t,o)&&(n=o,[].push.apply(i,o.children))}return n},n.prototype.dockDialogLeft=function(e,t){return this._requestDockDialog(e,t,this.layoutEngine.dockLeft.bind(this.layoutEngine))},n.prototype.dockDialogRight=function(e,t){return this._requestDockDialog(e,t,this.layoutEngine.dockRight.bind(this.layoutEngine))},n.prototype.dockDialogUp=function(e,t){return this._requestDockDialog(e,t,this.layoutEngine.dockUp.bind(this.layoutEngine))},n.prototype.dockDialogDown=function(e,t){return this._requestDockDialog(e,t,this.layoutEngine.dockDown.bind(this.layoutEngine))},n.prototype.dockDialogFill=function(e,t){return this._requestDockDialog(e,t,this.layoutEngine.dockFill.bind(this.layoutEngine))},n.prototype.dockLeft=function(e,t,i){return this._requestDockContainer(e,t,this.layoutEngine.dockLeft.bind(this.layoutEngine),i)},n.prototype.dockRight=function(e,t,i){return this._requestDockContainer(e,t,this.layoutEngine.dockRight.bind(this.layoutEngine),i)},n.prototype.dockUp=function(e,t,i){return this._requestDockContainer(e,t,this.layoutEngine.dockUp.bind(this.layoutEngine),i)},n.prototype.dockDown=function(e,t,i){return this._requestDockContainer(e,t,this.layoutEngine.dockDown.bind(this.layoutEngine),i)},n.prototype.dockFill=function(e,t){return this._requestDockContainer(e,t,this.layoutEngine.dockFill.bind(this.layoutEngine))},n.prototype.floatDialog=function(e,t,i){var n=void 0;if(this.context.model.dialogs.forEach(function(o){e==o.panel&&(o.show(t,i),n=o)}),n)return n;try{var o=this._findNodeFromContainer(e);this.layoutEngine.undock(o)}catch(s){}var a=e;u.removeNode(a.elementPanel),a.isDialog=!0;var r=new l(a,this);return r.setPosition(t,i),r},n.prototype._requestDockDialog=function(e,t,i){var n=t.panel,o=new s(n);return n.prepareForDocking(),t.destroy(),i(e,o),o},n.prototype._requestDockContainer=function(e,t,i,n){var o=new s(t);if("panel"===t.containerType){var a=t;a.prepareForDocking(),u.removeNode(a.elementPanel)}if(i(e,o),n&&o.parent&&("vertical"===o.parent.container.containerType||"horizontal"===o.parent.container.containerType)){var r=o.parent.container;r.setContainerRatio(t,n)}return this.rebuildLayout(this.context.model.rootNode),this.invalidate(),o},n.prototype._requestTabReorder=function(e,t){var i=this._findNodeFromContainer(e);this.layoutEngine.reorderTabs(i,t.handle,t.state,t.index)},n.prototype.requestUndockToDialog=function(e,t,i){var n=this._findNodeFromContainer(e);this.layoutEngine.undock(n);var o=new l(n.container,this);if(void 0!==t){var s=o.elementDialog.clientWidth;i.x>s&&(i.x=.75*s),o.setPosition(t.clientX-i.x,t.clientY-i.y),o.draggable.onMouseDown(t)}return o},n.prototype.requestUndock=function(e){var t=this._findNodeFromContainer(e);this.layoutEngine.undock(t)},n.prototype.requestRemove=function(e){var t=this._findNodeFromContainer(e),i=t.parent;return t.detachFromParent(),i&&this.rebuildLayout(i),t},n.prototype._findNodeFromContainer=function(e){var t=[];for(t.push(this.context.model.rootNode);t.length>0;){var i=t.pop();if(i.container===e)return i;[].push.apply(t,i.children)}throw new Error("Cannot find dock node belonging to the element")},n.prototype.findNodeFromContainerElement=function(e){var t=[];for(t.push(this.context.model.rootNode);t.length>0;){var i=t.pop();if(i.container.containerElement===e)return i;[].push.apply(t,i.children)}throw new Error("Cannot find dock node belonging to the element")},n.prototype.addLayoutListener=function(e){this.layoutEventListeners.push(e)},n.prototype.removeLayoutListener=function(e){this.layoutEventListeners.splice(this.layoutEventListeners.indexOf(e),1)},n.prototype.suspendLayout=function(){var e=this;this.layoutEventListeners.forEach(function(t){t.onSuspendLayout&&t.onSuspendLayout(e)})},n.prototype.resumeLayout=function(e){var t=this;this.layoutEventListeners.forEach(function(i){i.onResumeLayout&&i.onResumeLayout(t,e)})},n.prototype.notifyOnDock=function(e){var t=this;this.layoutEventListeners.forEach(function(i){i.onDock&&i.onDock(t,e)})},n.prototype.notifyOnTabsReorder=function(e){var t=this;this.layoutEventListeners.forEach(function(i){i.onTabsReorder&&i.onTabsReorder(t,e)})},n.prototype.notifyOnUnDock=function(e){var t=this;this.layoutEventListeners.forEach(function(i){i.onUndock&&i.onUndock(t,e)})},n.prototype.notifyOnClosePanel=function(e){var t=this;this.layoutEventListeners.forEach(function(i){i.onClosePanel&&i.onClosePanel(t,e)})},n.prototype.notifyOnCreateDialog=function(e){var t=this;this.layoutEventListeners.forEach(function(i){i.onCreateDialog&&i.onCreateDialog(t,e)})},n.prototype.notifyOnHideDialog=function(e){var t=this;this.layoutEventListeners.forEach(function(i){i.onHideDialog&&i.onHideDialog(t,e)})},n.prototype.notifyOnShowDialog=function(e){var t=this;this.layoutEventListeners.forEach(function(i){i.onShowDialog&&i.onShowDialog(t,e)})},n.prototype.notifyOnChangeDialogPosition=function(e,t,i){var n=this;this.layoutEventListeners.forEach(function(o){o.onChangeDialogPosition&&o.onChangeDialogPosition(n,e,t,i)})},n.prototype.notifyOnTabChange=function(e){var t=this;this.layoutEventListeners.forEach(function(i){i.onTabChanged&&i.onTabChanged(t,e)})},n.prototype.saveState=function(){var e=new h;return e.serialize(this.context.model)},n.prototype.loadState=function(e){var t=new c(this);this.context.model=t.deserialize(e),this.setModel(this.context.model)},n.prototype.getPanels=function(){var e=[];return this._allPanels(this.context.model.rootNode,e),this.context.model.dialogs.forEach(function(t){e.push(t.panel)}),e},n.prototype.undockEnabled=function(e){this._undockEnabled=e,this.getPanels().forEach(function(t){t.canUndock(e)})},n.prototype.lockDockState=function(e){this.undockEnabled(!e),this.hideCloseButton(e)},n.prototype.hideCloseButton=function(e){this.getPanels().forEach(function(t){t.hideCloseButton(e)})},n.prototype.updatePanels=function(e){var t=[];return this._allPanels(this.context.model.rootNode,t),t.forEach(function(t){e.contains(t.elementContent.id)||t.close()}),this.context.model.dialogs.forEach(function(t){e.contains(t.panel.elementContent.id)?t.show():t.hide()}),t},n.prototype.getVisiblePanels=function(){var e=[];return this._allPanels(this.context.model.rootNode,e),this.context.model.dialogs.forEach(function(t){t.isHidden||e.push(t.panel)}),e},n.prototype._allPanels=function(e,t){var i=this;e.children.forEach(function(e){i._allPanels(e,t)}),"panel"===e.container.containerType&&t.push(e.container)},n.prototype.setCloseTabIconTemplate=function(e){this.closeTabIconTemplate=e}},{"../dialog/Dialog":12,"../serialization/DockGraphDeserializer":20,"../serialization/DockGraphSerializer":21,"../utils/EventHandler":27,"../utils/Point":28,"../utils/utils":31,"./DockLayoutEngine":13,"./DockManagerContext":15,"./DockNode":17,"./DockWheel":18}],15:[function(e,t,i){function n(e){this.dockManager=e,this.model=new o,this.documentManagerView=new s(this.dockManager)}var o=e("./DockModel"),s=e("../containers/DocumentManagerContainer");t.exports=n},{"../containers/DocumentManagerContainer":3,"./DockModel":16}],16:[function(e,t,i){function n(){this.rootNode=this.documentManagerNode=void 0}t.exports=n},{}],17:[function(e,t,i){function n(e){this.container=e,this.children=[]}t.exports=n,n.prototype.detachFromParent=function(){this.parent&&(this.parent.removeChild(this),delete this.parent)},n.prototype.removeChild=function(e){var t=this.children.indexOf(e);t>=0&&this.children.splice(t,1)},n.prototype.addChild=function(e){e.detachFromParent(),e.parent=this,this.children.push(e)},n.prototype.addChildBefore=function(e,t){this._addChildWithDirection(e,t,!0)},n.prototype.addChildAfter=function(e,t){this._addChildWithDirection(e,t,!1)},n.prototype._addChildWithDirection=function(e,t,i){t.detachFromParent(),t.parent=this;var n=this.children.indexOf(e),o=this.children.slice(0,n),s=this.children.slice(n+1,this.children.length);this.children=o.slice(0),i?(this.children.push(t),this.children.push(e)):(this.children.push(e),this.children.push(t)),Array.prototype.push.apply(this.children,s)},n.prototype.performLayout=function(){var e=this.children.map(function(e){return e.container});this.container.performLayout(e)},n.prototype.debugDumpTree=function(e){void 0===e&&(e=0);for(var t=this.container.name,i=0;e>i;i++)t="	"+t;var n=void 0===this.parent?"null":this.parent.container.containerType;console.log(">>"+t+" ["+n+"]"),this.children.forEach(function(t){t.debugDumpTree(e+1)})}},{}],18:[function(e,t,i){function n(e){this.dockManager=e,this.elementMainWheel=document.createElement("div"),this.elementSideWheel=document.createElement("div"),this.wheelItems={};var t=["left","right","top","down","fill","left-s","right-s","top-s","down-s"],i=this;t.forEach(function(e){i.wheelItems[e]=new o(i,e),"-s"===e.substr(-2,2)?i.elementSideWheel.appendChild(i.wheelItems[e].element):i.elementMainWheel.appendChild(i.wheelItems[e].element)});var n=1e5;this.elementMainWheel.classList.add("dock-wheel-base"),this.elementSideWheel.classList.add("dock-wheel-base"),this.elementMainWheel.style.zIndex=n+1,this.elementSideWheel.style.zIndex=n,this.elementPanelPreview=document.createElement("div"),this.elementPanelPreview.classList.add("dock-wheel-panel-preview"),this.elementPanelPreview.style.zIndex=n-1,this.activeDialog=void 0,this._activeNode=void 0,this._visible=!1}var o=e("./DockWheelItem"),s=e("../utils/utils");t.exports=n,Object.defineProperty(n.prototype,"activeNode",{get:function(){return this._activeNode},set:function(e){var t=this._activeNode;this._activeNode=e,t!==this._activeNode&&this._visible&&this.showWheel()}}),n.prototype.showWheel=function(){if(this._visible=!0,!this.activeNode)return s.removeNode(this.elementMainWheel),void s.removeNode(this.elementSideWheel);var e=this.activeNode.container.containerElement,t=e.clientWidth,i=e.clientHeight,n=Math.floor(t/2)+e.offsetLeft,o=Math.floor(i/2)+e.offsetTop;this.elementMainWheel.style.left=n+"px",this.elementMainWheel.style.top=o+"px";var a=20,r=this.dockManager.element.clientWidth,l=this.dockManager.element.clientHeight;s.removeNode(this.elementMainWheel),s.removeNode(this.elementSideWheel),e.appendChild(this.elementMainWheel),this.dockManager.element.appendChild(this.elementSideWheel),this._setWheelButtonPosition("left-s",a,-l/2),this._setWheelButtonPosition("right-s",r-2*a,-l/2),this._setWheelButtonPosition("top-s",r/2,-l+a),this._setWheelButtonPosition("down-s",r/2,-a)},n.prototype._setWheelButtonPosition=function(e,t,i){var n=this.wheelItems[e],o=n.element.clientWidth/2,s=n.element.clientHeight/2,a=Math.floor(t-o),r=Math.floor(i-s);n.element.style.marginLeft=a+"px",n.element.style.marginTop=r+"px"},n.prototype.hideWheel=function(){this._visible=!1,this.activeNode=void 0,s.removeNode(this.elementMainWheel),s.removeNode(this.elementSideWheel),s.removeNode(this.elementPanelPreview);for(var e in this.wheelItems)this.wheelItems[e].active=!1},n.prototype.onMouseOver=function(e){if(this.activeDialog){var t,i=this.dockManager.context.model.rootNode;"top"===e.id?t=this.dockManager.layoutEngine.getDockBounds(this.activeNode,this.activeDialog.panel,"vertical",!0):"down"===e.id?t=this.dockManager.layoutEngine.getDockBounds(this.activeNode,this.activeDialog.panel,"vertical",!1):"left"===e.id?t=this.dockManager.layoutEngine.getDockBounds(this.activeNode,this.activeDialog.panel,"horizontal",!0):"right"===e.id?t=this.dockManager.layoutEngine.getDockBounds(this.activeNode,this.activeDialog.panel,"horizontal",!1):"fill"===e.id?t=this.dockManager.layoutEngine.getDockBounds(this.activeNode,this.activeDialog.panel,"fill",!1):"top-s"===e.id?t=this.dockManager.layoutEngine.getDockBounds(i,this.activeDialog.panel,"vertical",!0):"down-s"===e.id?t=this.dockManager.layoutEngine.getDockBounds(i,this.activeDialog.panel,"vertical",!1):"left-s"===e.id?t=this.dockManager.layoutEngine.getDockBounds(i,this.activeDialog.panel,"horizontal",!0):"right-s"===e.id&&(t=this.dockManager.layoutEngine.getDockBounds(i,this.activeDialog.panel,"horizontal",!1)),t&&(this.dockManager.element.appendChild(this.elementPanelPreview),this.elementPanelPreview.style.left=Math.round(t.x)+"px",this.elementPanelPreview.style.top=Math.round(t.y)+"px",this.elementPanelPreview.style.width=Math.round(t.width)+"px",this.elementPanelPreview.style.height=Math.round(t.height)+"px")}},n.prototype.onMouseOut=function(){s.removeNode(this.elementPanelPreview)},n.prototype.onDialogDropped=function(e){var t=this._getActiveWheelItem();t&&this._handleDockRequest(t,e)},n.prototype._getActiveWheelItem=function(){for(var e in this.wheelItems){var t=this.wheelItems[e];if(t.active)return t}},n.prototype._handleDockRequest=function(e,t){this.activeNode&&("left"===e.id?this.dockManager.dockDialogLeft(this.activeNode,t):"right"===e.id?this.dockManager.dockDialogRight(this.activeNode,t):"top"===e.id?this.dockManager.dockDialogUp(this.activeNode,t):"down"===e.id?this.dockManager.dockDialogDown(this.activeNode,t):"fill"===e.id?this.dockManager.dockDialogFill(this.activeNode,t):"left-s"===e.id?this.dockManager.dockDialogLeft(this.dockManager.context.model.rootNode,t):"right-s"===e.id?this.dockManager.dockDialogRight(this.dockManager.context.model.rootNode,t):"top-s"===e.id?this.dockManager.dockDialogUp(this.dockManager.context.model.rootNode,t):"down-s"===e.id&&this.dockManager.dockDialogDown(this.dockManager.context.model.rootNode,t))}},{"../utils/utils":31,"./DockWheelItem":19}],19:[function(e,t,i){function n(e,t){this.wheel=e,this.id=t;var i=t.replace("-s","");this.element=document.createElement("div"),this.element.classList.add("dock-wheel-item"),this.element.classList.add("disable-selection"),this.element.classList.add("dock-wheel-"+i),this.element.classList.add("dock-wheel-"+i+"-icon"),this.hoverIconClass="dock-wheel-"+i+"-icon-hover",this.mouseOverHandler=new o(this.element,"mouseover",this.onMouseMoved.bind(this)),this.mouseOutHandler=new o(this.element,"mouseout",this.onMouseOut.bind(this)),this.active=!1}var o=e("../utils/EventHandler");t.exports=n,n.prototype.onMouseMoved=function(e){this.active=!0,this.element.classList.add(this.hoverIconClass),this.wheel.onMouseOver(this,e)},n.prototype.onMouseOut=function(e){this.active=!1,this.element.classList.remove(this.hoverIconClass),this.wheel.onMouseOut(this,e)}},{"../utils/EventHandler":27}],20:[function(e,t,i){function n(e){this.dockManager=e}var o=e("../dock/DockModel"),s=e("../dock/DockNode"),a=e("../containers/PanelContainer"),r=e("../containers/HorizontalDockContainer"),l=e("../containers/VerticalDockContainer"),h=e("../containers/DocumentManagerContainer"),c=e("../containers/FillDockContainer"),d=e("../dialog/Dialog"),p=e("../utils/utils");t.exports=n,n.prototype.deserialize=function(e){var t=JSON.parse(e),i=new o;return i.rootNode=this._buildGraph(t.graphInfo),i.dialogs=this._buildDialogs(t.dialogsInfo),i},n.prototype._buildGraph=function(e){var t=e.children,i=[],n=this;t.forEach(function(e){var t=n._buildGraph(e);null!==t&&i.push(t)});var o=this._createContainer(e,i);if(null===o)return null;var a=new s(o);return a.children=i,a.children.reverse().forEach(function(e){e.parent=a}),a.children.reverse(),a},n.prototype._createContainer=function(e,t){var i,n=e.containerType,o=e.state,s=[];if(t.forEach(function(e){s.push(e.container)}),"panel"===n){if(i=new a.loadFromState(o,this.dockManager),!i.prepareForDocking)return null;i.prepareForDocking(),p.removeNode(i.elementPanel)}else if("horizontal"===n)i=new r(this.dockManager,s);else if("vertical"===n)i=new l(this.dockManager,s);else{if("fill"!==n)throw new Error("Cannot create dock container of unknown type: "+n);var d=o.documentManager;i=d?new h(this.dockManager):new c(this.dockManager)}return i.loadState(o),i},n.prototype._buildDialogs=function(e){var t=[],i=this;return e.forEach(function(e){var n,o=e.containerType,s=e.state;if("panel"===o&&(n=new a.loadFromState(s,i.dockManager),n.prepareForDocking)){p.removeNode(n.elementPanel),n.isDialog=!0;var r=new d(n,i.dockManager);(e.position.left>document.body.clientWidth||e.position.top>document.body.clientHeight-70)&&(e.position.left=20,e.position.top=70),r.setPosition(e.position.left,e.position.top),r.isHidden=e.isHidden,r.isHidden&&r.hide(),t.push(r)}}),t}},{"../containers/DocumentManagerContainer":3,"../containers/FillDockContainer":5,"../containers/HorizontalDockContainer":6,"../containers/PanelContainer":7,"../containers/VerticalDockContainer":9,"../dialog/Dialog":12,"../dock/DockModel":16,"../dock/DockNode":17,"../utils/utils":31}],21:[function(e,t,i){function n(){}t.exports=n,n.prototype.serialize=function(e){var t=this._buildGraphInfo(e.rootNode),i=this._buildDialogsInfo(e.dialogs);return JSON.stringify({graphInfo:t,dialogsInfo:i})},n.prototype._buildGraphInfo=function(e){var t={};e.container.saveState(t);var i=[],n=this;e.children.forEach(function(e){i.push(n._buildGraphInfo(e))});var o={};return o.containerType=e.container.containerType,o.state=t,o.children=i,o},n.prototype._buildDialogsInfo=function(e){var t=[];return e.forEach(function(e){var i={},n=e.panel;n.saveState(i);var o={};o.containerType=n.containerType,o.state=i,o.children=[],o.position=e.getPosition(),o.isHidden=e.isHidden,t.push(o)}),t}},{}],22:[function(e,t,i){function n(e,t,i){this.previousContainer=e,this.nextContainer=t,this.stackedVertical=i,this.barElement=document.createElement("div"),this.barElement.classList.add(i?"splitbar-horizontal":"splitbar-vertical"),this.mouseDownHandler=new o(this.barElement,"mousedown",this.onMouseDown.bind(this)),this.minPanelSize=50,this.readyToProcessNextDrag=!0}var o=e("../utils/EventHandler"),s=e("../utils/utils");t.exports=n,n.prototype.onMouseDown=function(e){this._startDragging(e)},n.prototype.onMouseUp=function(e){this._stopDragging(e)},n.prototype.onMouseMoved=function(e){if(this.readyToProcessNextDrag){this.readyToProcessNextDrag=!1;var t=this.previousContainer.dockManager;t.suspendLayout();var i=e.pageX-this.previousMouseEvent.pageX,n=e.pageY-this.previousMouseEvent.pageY;this._performDrag(i,n),this.previousMouseEvent=e,this.readyToProcessNextDrag=!0,t.resumeLayout()}},n.prototype._performDrag=function(e,t){var i=this.previousContainer.containerElement.clientWidth,n=this.previousContainer.containerElement.clientHeight,o=this.nextContainer.containerElement.clientWidth,s=this.nextContainer.containerElement.clientHeight,a=this.stackedVertical?n:i,r=this.stackedVertical?s:o,l=this.stackedVertical?t:e,h=a+l,c=r-l;if(h<this.minPanelSize||c<this.minPanelSize){var d=h<this.minPanelSize&&h>a||c<this.minPanelSize&&c>r;if(!d)return}this.stackedVertical?(this.previousContainer.resize(i,h),this.nextContainer.resize(o,c)):(this.previousContainer.resize(h,n),this.nextContainer.resize(c,s))},n.prototype._startDragging=function(e){s.disableGlobalTextSelection(),this.mouseMovedHandler&&(this.mouseMovedHandler.cancel(),delete this.mouseMovedHandler),this.mouseUpHandler&&(this.mouseUpHandler.cancel(),delete this.mouseUpHandler),this.mouseMovedHandler=new o(window,"mousemove",this.onMouseMoved.bind(this)),this.mouseUpHandler=new o(window,"mouseup",this.onMouseUp.bind(this)),this.previousMouseEvent=e},n.prototype._stopDragging=function(){s.enableGlobalTextSelection(),document.body.classList.remove("disable-selection"),this.mouseMovedHandler&&(this.mouseMovedHandler.cancel(),delete this.mouseMovedHandler),this.mouseUpHandler&&(this.mouseUpHandler.cancel(),delete this.mouseUpHandler)}},{"../utils/EventHandler":27,"../utils/utils":31}],23:[function(e,t,i){function n(e,t){this.childContainers=e,this.stackedVertical=t,this.panelElement=document.createElement("div"),this.spiltterBars=[],this._buildSplitterDOM()}var o=e("./SplitterBar"),s=e("../utils/utils");t.exports=n,n.prototype._buildSplitterDOM=function(){if(this.childContainers.length<=1)throw new Error("Splitter panel should contain atleast 2 panels");this.spiltterBars=[];for(var e=0;e<this.childContainers.length-1;e++){var t=this.childContainers[e],i=this.childContainers[e+1],n=new o(t,i,this.stackedVertical);this.spiltterBars.push(n),this._insertContainerIntoPanel(t),this.panelElement.appendChild(n.barElement)}this._insertContainerIntoPanel(this.childContainers.slice(-1)[0])},n.prototype.performLayout=function(e){this.removeFromDOM(),this.childContainers=e,this._buildSplitterDOM()},n.prototype.removeFromDOM=function(){this.childContainers.forEach(function(e){e.containerElement&&(e.containerElement.classList.remove("splitter-container-vertical"),e.containerElement.classList.remove("splitter-container-horizontal"),s.removeNode(e.containerElement))}),this.spiltterBars.forEach(function(e){s.removeNode(e.barElement)})},n.prototype.destroy=function(){this.removeFromDOM(),this.panelElement.parentNode.removeChild(this.panelElement)},n.prototype._insertContainerIntoPanel=function(e){e||console.log("undefined"),s.removeNode(e.containerElement),this.panelElement.appendChild(e.containerElement),e.containerElement.classList.add(this.stackedVertical?"splitter-container-vertical":"splitter-container-horizontal")},n.prototype.setContainerRatio=function(e,t){for(var i=this.stackedVertical?this.panelElement.clientHeight:this.panelElement.clientWidth,n=i*t,o=this.stackedVertical?this.spiltterBars[0].barElement.clientHeight:this.spiltterBars[0].barElement.clientWidth,s=i-n-o*this.spiltterBars.length,a=s/i,r=0;r<this.childContainers.length;r++){var l,h=this.childContainers[r];h!==e?(l=this.stackedVertical?h.containerElement.clientHeight:h.containerElement.clientWidth,l*=a):l=n,this.stackedVertical?h.resize(h.width,Math.floor(l)):h.resize(Math.floor(l),h.height)}},n.prototype.resize=function(e,t){if(!(this.childContainers.length<=1)){var i;for(i=0;i<this.childContainers.length;i++){var n=this.childContainers[i];if(this.stackedVertical?n.resize(e,n.height):n.resize(n.width,t),i<this.spiltterBars.length){var o=this.spiltterBars[i];this.stackedVertical?o.barElement.style.width=e+"px":o.barElement.style.height=t+"px"}}var s=0,a=this;this.childContainers.forEach(function(e){var t=a.stackedVertical?e.height:e.width;s+=t});var r=this.stackedVertical?this.spiltterBars[0].barElement.clientHeight:this.spiltterBars[0].barElement.clientWidth,l=this.stackedVertical?t:e;l-=r*this.spiltterBars.length,s=Math.max(s,1);var h=l/s,c=0;for(i=0;i<this.childContainers.length;i++){var d=this.childContainers[i],p=this.stackedVertical?d.containerElement.clientHeight:d.containerElement.clientWidth,u=h>1?Math.floor(p*h):Math.ceil(p*h);c+=u,i===this.childContainers.length-1&&(u+=l-c),this.stackedVertical?d.resize(d.width,u):d.resize(u,d.height)}this.panelElement.style.width=e+"px",this.panelElement.style.height=t+"px"}}},{"../utils/utils":31,"./SplitterBar":22}],24:[function(e,t,i){function n(e){this.parent=e;var t=n.prototype._performUndock.bind(this);this.elementBase=document.createElement("div"),this.elementText=document.createElement("div"),this.elementCloseButton=document.createElement("div"),this.elementBase.classList.add("tab-handle"),this.elementBase.classList.add("disable-selection"),this.elementText.classList.add("tab-handle-text"),this.elementCloseButton.classList.add("tab-handle-close-button"),this.elementBase.appendChild(this.elementText),this.parent.host.displayCloseButton&&this.elementBase.appendChild(this.elementCloseButton),this.parent.host.tabListElement.appendChild(this.elementBase);var i=e.container,r=i.getRawTitle(),l=this;this.undockListener={onDockEnabled:function(e){l.undockEnabled(e.state)},onHideCloseButton:function(e){l.hideCloseButton(e.state)}},this.eventListeners=[],i.addListener(this.undockListener),this.elementText.innerHTML=r,this.parent.container instanceof o&&this.parent.container.dockManager.closeTabIconTemplate?this.elementCloseButton.innerHTML=this.parent.container.dockManager.closeTabIconTemplate():this.elementCloseButton.innerHTML='<i class="fa fa-times"></i>',this._bringToFront(this.elementBase),this.undockInitiator=new s(this.elementBase,t),this.undockInitiator.enabled=!0,this.mouseClickHandler=new a(this.elementBase,"click",this.onMouseClicked.bind(this)),this.mouseDownHandler=new a(this.elementBase,"mousedown",this.onMouseDown.bind(this)),this.closeButtonHandler=new a(this.elementCloseButton,"mousedown",this.onCloseButtonClicked.bind(this)),this.moveThreshold=10,this.zIndexCounter=100}var o=e("../containers/PanelContainer"),s=e("../utils/UndockInitiator"),a=e("../utils/EventHandler"),r=e("../utils/utils");t.exports=n,n.prototype.addListener=function(e){this.eventListeners.push(e)},n.prototype.removeListener=function(e){this.eventListeners.splice(this.eventListeners.indexOf(e),1)},n.prototype.undockEnabled=function(e){this.undockInitiator.enabled=e},n.prototype.onMouseDown=function(e){this.undockInitiator.enabled&&this.undockInitiator.setThresholdPixels(40,!1),this.mouseMoveHandler&&(this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler),this.mouseUpHandler&&(this.mouseUpHandler.cancel(),delete this.mouseUpHandler),this.stargDragPosition=e.clientX,this.mouseMoveHandler=new a(this.elementBase,"mousemove",this.onMouseMove.bind(this)),this.mouseUpHandler=new a(window,"mouseup",this.onMouseUp.bind(this))},n.prototype.onMouseUp=function(){this.undockInitiator.enabled&&this.undockInitiator.setThresholdPixels(10,!0),this.elementBase&&this.elementBase.classList.remove("tab-handle-dragged"),this.dragged=!1,this.mouseMoveHandler.cancel(),this.mouseUpHandler.cancel(),delete this.mouseMoveHandler,delete this.mouseUpHandler},n.prototype.generateMoveTabEvent=function(e,t){var i=t>e.rect.left&&t<e.rect.right,n=Math.abs(e.bound-t);n<this.moveThreshold&&i&&this.moveTabEvent(this,e.state)},n.prototype.moveTabEvent=function(e,t){e.eventListeners.forEach(function(i){i.onMoveTab&&i.onMoveTab({self:e,state:t})})},n.prototype.onMouseMove=function(e){if(!(Math.abs(this.stargDragPosition-e.clientX)<10)){this.elementBase.classList.add("tab-handle-dragged"),this.dragged=!0,this.prev=this.current,this.current=e.clientX,this.direction=this.current-this.prev;var t=this.elementBase.getBoundingClientRect(),i=this.direction<0?{state:"left",bound:t.left,rect:t}:{state:"right",bound:t.right,rect:t};0!==this.direction&&this.generateMoveTabEvent(i,this.current)}},n.prototype.hideCloseButton=function(e){this.elementCloseButton.style.display=e?"none":"block"},n.prototype.updateTitle=function(){if(this.parent.container instanceof o){var e=this.parent.container,t=e.getRawTitle();this.elementText.innerHTML=t}},n.prototype.destroy=function(){var e=this.parent.container;e.removeListener(this.undockListener),this.mouseClickHandler.cancel(),this.mouseDownHandler.cancel(),this.closeButtonHandler.cancel(),this.mouseUpHandler&&this.mouseUpHandler.cancel(),r.removeNode(this.elementBase),r.removeNode(this.elementCloseButton),delete this.elementBase,delete this.elementCloseButton},n.prototype._performUndock=function(e,t){if("panel"===this.parent.container.containerType){this.undockInitiator.enabled=!1;var i=this.parent.container;return i.performUndockToDialog(e,t)}return null},n.prototype.onMouseClicked=function(){this.parent.onSelected()},n.prototype.onCloseButtonClicked=function(){"panel"===this.parent.container.containerType&&this.parent.container.close()},n.prototype.setSelected=function(e){var t="tab-handle-selected";e?this.elementBase.classList.add(t):this.elementBase.classList.remove(t)},n.prototype.setZIndex=function(e){this.elementBase.style.zIndex=e},n.prototype._bringToFront=function(e){e.style.zIndex=this.zIndexCounter,this.zIndexCounter++}},{"../containers/PanelContainer":7,"../utils/EventHandler":27,"../utils/UndockInitiator":30,"../utils/utils":31}],25:[function(e,t,i){function n(e,t){void 0===e&&(e=n.DIRECTION_BOTTOM),void 0===t&&(t=!1),this.tabStripDirection=e,this.displayCloseButton=t,this.pages=[];var i=this;if(i.eventListeners=[],this.tabHandleListener={onMoveTab:function(e){i.onMoveTab(e)}},this.hostElement=document.createElement("div"),this.tabListElement=document.createElement("div"),this.separatorElement=document.createElement("div"),this.contentElement=document.createElement("div"),this.createTabPage=this._createDefaultTabPage,this.tabStripDirection===n.DIRECTION_BOTTOM)this.hostElement.appendChild(this.contentElement),this.hostElement.appendChild(this.separatorElement),this.hostElement.appendChild(this.tabListElement);else{if(this.tabStripDirection!==n.DIRECTION_TOP)throw new Error("Only top and bottom tab strip orientations are supported");this.hostElement.appendChild(this.tabListElement),this.hostElement.appendChild(this.separatorElement),this.hostElement.appendChild(this.contentElement)}this.hostElement.classList.add("tab-host"),this.tabListElement.classList.add("tab-handle-list-container"),this.separatorElement.classList.add("tab-handle-content-seperator"),this.contentElement.classList.add("tab-content")}var o=e("./TabPage");t.exports=n,n.DIRECTION_TOP=0,n.DIRECTION_BOTTOM=1,n.DIRECTION_LEFT=2,n.DIRECTION_RIGHT=3,n.prototype.onMoveTab=function(e){var t=Array.prototype.slice.call(this.tabListElement.childNodes).indexOf(e.self.elementBase);this.change(this,e.self,e.state,t)},n.prototype.performTabsLayout=function(e){this.pages=this.pages.orderByIndexes(e);var t=this.tabListElement.childNodes,i=[];for(var n in t)1===t[n].nodeType&&i.push(t[n]);for(i=i.orderByIndexes(e),n=0;n<i.length;++n)this.tabListElement.appendChild(i[n]);this.activeTab&&this.onTabPageSelected(this.activeTab)},n.prototype.addListener=function(e){this.eventListeners.push(e)},n.prototype.removeListener=function(e){this.eventListeners.splice(this.eventListeners.indexOf(e),1)},n.prototype.change=function(e,t,i,n){this.eventListeners.forEach(function(o){o.onChange&&o.onChange({host:e,handle:t,state:i,index:n})})},n.prototype._createDefaultTabPage=function(e,t){return new o(e,t)},n.prototype.setActiveTab=function(e){var t;this.pages.forEach(function(i){i.container===e&&(t=i)}),this.pages.length>0&&t&&this.onTabPageSelected(t)},n.prototype.resize=function(e,t){this.hostElement.style.width=e+"px",this.hostElement.style.height=t+"px";var i=this.tabListElement.clientHeight;this.timeoutPerform&&clearTimeout(this.timeoutPerform);
var n=this;this.timeoutPerform=setTimeout(function(){n.resizeTabListElement(e,t)},100);var o=this.separatorElement.clientHeight,s=t-i-o;this.contentElement.style.height=s+"px",this.activeTab&&this.activeTab.resize(e,s)},n.prototype.resizeTabListElement=function(e){if(0!==this.pages.length){var t=0;this.pages.forEach(function(e){var i=e.handle;i.elementBase.style.width="",i.elementText.style.width="",t+=i.elementBase.clientWidth});var i=e/t;if(!(i>1.2)){var o=this;this.pages.forEach(function(e,t){var s=e.handle,a=i*s.elementBase.clientWidth;t===o.pages.length-1&&(a-=5),s.elementBase.style.width=a+"px",o.tabStripDirection===n.DIRECTION_TOP&&(s.elementText.style.width=a-s.elementCloseButton.clientWidth-16+"px")})}}},n.prototype.performLayout=function(e){this.pages.forEach(function(e){e.handle.removeListener(this.tabHandleListener),e.destroy()}),this.pages.length=0;var t=this.activeTab;delete this.activeTab;var i=e.filter(function(e){return"panel"===e.containerType});if(i.length>0){var n=this;i.forEach(function(e){var i=n.createTabPage(n,e);i.handle.addListener(n.tabHandleListener),n.pages.push(i),t&&i.container===t.container&&(n.activeTab=i)}),this._setTabHandlesVisible(!0)}else this._setTabHandlesVisible(!1);this.activeTab&&this.onTabPageSelected(this.activeTab)},n.prototype._setTabHandlesVisible=function(e){this.tabListElement.style.display=e?"block":"none",this.separatorElement.style.display=e?"block":"none"},n.prototype.onTabPageSelected=function(e){this.activeTab=e,this.pages.forEach(function(t){var i=t===e;t.setSelected(i)});var t=1,i=100;this.pages.forEach(function(n){n.handle.setZIndex(i);var o=n===e;o&&(t=-1),i+=t})}},{"./TabPage":26}],26:[function(e,t,i){function n(e,t){if(0!==arguments.length&&(this.selected=!1,this.host=e,this.container=t,this.handle=new o(this),this.containerElement=t.containerElement,t instanceof s)){var i=t;i.onTitleChanged=this.onTitleChanged.bind(this)}}var o=e("./TabHandle"),s=e("../containers/PanelContainer");e("../utils/utils");t.exports=n,n.prototype.onTitleChanged=function(){this.handle.updateTitle()},n.prototype.destroy=function(){if(this.handle.destroy(),this.container instanceof s){var e=this.container;delete e.onTitleChanged}},n.prototype.onSelected=function(){if(this.host.onTabPageSelected(this),this.container instanceof s){var e=this.container;e.dockManager.notifyOnTabChange(this)}},n.prototype.setSelected=function(e){if(this.selected=e,this.handle.setSelected(e),this._initContent||this.host.contentElement.appendChild(this.containerElement),this._initContent=!0,this.selected){this.containerElement.style.display="block";var t=this.host.contentElement.clientWidth,i=this.host.contentElement.clientHeight;this.container.resize(t,i)}else this.containerElement.style.display="none"},n.prototype.resize=function(e,t){this.container.resize(e,t)}},{"../containers/PanelContainer":7,"../utils/utils":31,"./TabHandle":24}],27:[function(e,t,i){function n(e,t,i){this.target=i,this.eventName=t,this.source=e,this.source.addEventListener(t,this.target)}t.exports=n,n.prototype.cancel=function(){this.source.removeEventListener(this.eventName,this.target)}},{}],28:[function(e,t,i){function n(e,t){this.x=e,this.y=t}t.exports=n},{}],29:[function(e,t,i){function n(e,t,i,n){this.x=e||0,this.y=t||0,this.width=i||0,this.height=n||0}t.exports=n},{}],30:[function(e,t,i){function n(e,t,i){i||(i=10),this.element=e,this.listener=t,this.thresholdPixels=i,this._enabled=!1,this.horizontalChange=!0}var o=e("./EventHandler"),s=e("./Point");t.exports=n,Object.defineProperty(n.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e,this._enabled?(this.mouseDownHandler&&(this.mouseDownHandler.cancel(),delete this.mouseDownHandler),this.mouseDownHandler=new o(this.element,"mousedown",this.onMouseDown.bind(this))):(this.mouseDownHandler&&(this.mouseDownHandler.cancel(),delete this.mouseDownHandler),this.mouseUpHandler&&(this.mouseUpHandler.cancel(),delete this.mouseUpHandler),this.mouseMoveHandler&&(this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler))}}),n.prototype.setThresholdPixels=function(e,t){this.horizontalChange=t,this.thresholdPixels=e},n.prototype.onMouseDown=function(e){this.enabled&&(this.mouseUpHandler&&(this.mouseUpHandler.cancel(),delete this.mouseUpHandler),this.mouseMoveHandler&&(this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler),this.mouseUpHandler=new o(window,"mouseup",this.onMouseUp.bind(this)),this.mouseMoveHandler=new o(window,"mousemove",this.onMouseMove.bind(this)),this.dragStartPosition=new s(e.pageX,e.pageY))},n.prototype.onMouseUp=function(){this.mouseUpHandler&&(this.mouseUpHandler.cancel(),delete this.mouseUpHandler),this.mouseMoveHandler&&(this.mouseMoveHandler.cancel(),delete this.mouseMoveHandler)},n.prototype.onMouseMove=function(e){var t=new s(e.pageX,e.pageY),i=this.horizontalChange?t.x-this.dragStartPosition.x:10,n=t.y-this.dragStartPosition.y,o=Math.sqrt(i*i+n*n);o>this.thresholdPixels&&(this.enabled=!1,this._requestUndock(e))},n.prototype._requestUndock=function(e){var t=this.dragStartPosition.x-this.element.offsetLeft,i=this.dragStartPosition.y-this.element.offsetTop,n=new s(t,i);this.listener(e,n)}},{"./EventHandler":27,"./Point":28}],31:[function(e,t,i){var n=0;t.exports={getPixels:function(e){return null===e?0:parseInt(e.replace("px",""))},disableGlobalTextSelection:function(){document.body.classList.add("disable-selection")},enableGlobalTextSelection:function(){document.body.classList.remove("disable-selection")},isPointInsideNode:function(e,t,i){var n=i.container.containerElement;return e>=n.offsetLeft&&e<=n.offsetLeft+n.clientWidth&&t>=n.offsetTop&&t<=n.offsetTop+n.clientHeight},getNextId:function(e){return e+n++},removeNode:function(e){return null===e.parentNode?!1:(e.parentNode.removeChild(e),!0)}}},{}]},{},[1])(1)});
//# sourceMappingURL=dockspawn.min.js.map
